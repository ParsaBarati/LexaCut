{"version":3,"sources":["../../../src/test/fixtures/expected-results.fixture.ts"],"sourcesContent":["import { CalculationResult, MaterialCategory, CNCCategory, FittingsCategory } from '../../common/interfaces';\n\n/**\n * Expected calculation results for test fixtures\n * Based on actual pricing from pricing-tables.json\n */\n\n/**\n * Expected material cost for simple door (2 units of 0.24 m²)\n * Using MDF 16mm price: 22,000,000 Rials/m²\n * Calculation: 0.48 m² × 22,000,000 = 10,560,000 Rials\n */\nexport const expectedDoorMaterialCost = {\n  totalCost: 10560000,\n  totalArea: 0.48,\n  totalQuantity: 1,\n};\n\n/**\n * Expected CNC cost for hood panel (1 unit with complex operation)\n * Using CNC-Complex price: ~500,000-1,000,000 Rials per piece\n * Calculation: 500,000 × 1 = 500,000 Rials\n */\nexport const expectedCNCCost = {\n  totalCost: 500000,\n  itemCount: 1,\n};\n\n/**\n * Expected fittings cost for door (2 hinges per door)\n * Hinge price: 200,000 Rials\n * Calculation: 200,000 × 2 × 2 doors = 800,000 Rials\n */\nexport const expectedDoorFittingsCost = {\n  totalCost: 800000,\n  itemCount: 1, // One fitting type\n};\n\n/**\n * Expected drawer fittings (rails + handle)\n * Rails 50cm: 700,000 Rials/pair\n * Handle: 450,000 Rials\n * Calculation: (700,000 + 450,000) × 3 = 3,450,000 Rials\n */\nexport const expectedDrawerFittingsCost = {\n  totalCost: 3450000,\n  itemCount: 2, // Rails and handle\n};\n\n/**\n * Expected WoodTools base cost\n * Base: 500,000 Rials\n * 1 CNC component: 20,000 Rials\n * Total: 520,000 Rials\n */\nexport const expectedWoodToolsCost = {\n  baseCost: 500000,\n  cncCost: 20000,\n  totalCost: 520000,\n};\n\n/**\n * Expected financial summary percentages\n */\nexport const expectedOverheadPercentages = {\n  overhead1: 0.25,  // 25%\n  overhead2: 0.04,  // 4%\n  overhead3: 0.02,  // 2%\n  overhead4: 0.02,  // 2%\n  contingency: 0.025, // 2.5%\n  profitMargin: 0.22, // 22%\n};\n\n/**\n * Example: For subtotal of 10,000,000 Rials\n */\nexport const exampleFinancialSummary = {\n  subtotal: 10000000,\n  overheads: {\n    overhead1: 2500000,  // 10M × 0.25\n    overhead2: 400000,   // 10M × 0.04\n    overhead3: 200000,   // 10M × 0.02\n    overhead4: 200000,   // 10M × 0.02\n    contingency: 250000, // 10M × 0.025\n    totalOverheads: 3550000, // Sum\n  },\n  totalWithOverheads: 13550000, // 10M + 3.55M\n  profitAmount: 2981000,        // 13.55M × 0.22\n  finalPrice: 16531000,         // 13.55M + 2.981M\n};\n\n/**\n * Expected result structure validation\n */\nexport const expectedResultStructure = {\n  hasProject: true,\n  hasCosts: true,\n  hasFinancialSummary: true,\n  hasCalculatedAt: true,\n  hasVersion: true,\n  costCategories: [\n    'material',\n    'boreshKari',\n    'cnc',\n    'navarShiar',\n    'fittings',\n    'painting',\n    'plate',\n    'woodTools',\n  ],\n};\n\n/**\n * Minimum expected values for validation\n */\nexport const minimumExpectedValues = {\n  material: {\n    minCost: 0,\n    minArea: 0,\n  },\n  cnc: {\n    minCostPerOperation: 200000, // At least 200,000 per CNC operation\n  },\n  fittings: {\n    minCostPerHinge: 150000, // At least 150,000 per hinge\n  },\n  woodTools: {\n    minBaseCost: 500000, // Always at least base cost\n  },\n};\n\n/**\n * Test tolerance for floating point comparisons\n */\nexport const CALCULATION_TOLERANCE = 100; // Allow 100 Rials difference due to rounding\n\n/**\n * Expected material category structure\n */\nexport const materialCategoryStructure: Partial<MaterialCategory> = {\n  category: 'Material',\n  totalCost: expect.any(Number),\n  totalArea: expect.any(Number),\n  totalQuantity: expect.any(Number),\n  items: expect.any(Array),\n};\n\n/**\n * Expected CNC category structure\n */\nexport const cncCategoryStructure: Partial<CNCCategory> = {\n  category: 'CNC',\n  totalCost: expect.any(Number),\n  items: expect.any(Array),\n};\n\n/**\n * Expected fittings category structure\n */\nexport const fittingsCategoryStructure: Partial<FittingsCategory> = {\n  category: 'Fittings',\n  totalCost: expect.any(Number),\n  items: expect.any(Array),\n};\n\n"],"names":["CALCULATION_TOLERANCE","cncCategoryStructure","exampleFinancialSummary","expectedCNCCost","expectedDoorFittingsCost","expectedDoorMaterialCost","expectedDrawerFittingsCost","expectedOverheadPercentages","expectedResultStructure","expectedWoodToolsCost","fittingsCategoryStructure","materialCategoryStructure","minimumExpectedValues","totalCost","totalArea","totalQuantity","itemCount","baseCost","cncCost","overhead1","overhead2","overhead3","overhead4","contingency","profitMargin","subtotal","overheads","totalOverheads","totalWithOverheads","profitAmount","finalPrice","hasProject","hasCosts","hasFinancialSummary","hasCalculatedAt","hasVersion","costCategories","material","minCost","minArea","cnc","minCostPerOperation","fittings","minCostPerHinge","woodTools","minBaseCost","category","expect","any","Number","items","Array"],"mappings":";;;;;;;;;;;QAsIaA;eAAAA;;QAgBAC;eAAAA;;QA1EAC;eAAAA;;QArDAC;eAAAA;;QAUAC;eAAAA;;QArBAC;eAAAA;;QAgCAC;eAAAA;;QAoBAC;eAAAA;;QA8BAC;eAAAA;;QAvCAC;eAAAA;;QAwGAC;eAAAA;;QApBAC;eAAAA;;QAxBAC;eAAAA;;;AAvGN,MAAMP,2BAA2B;IACtCQ,WAAW;IACXC,WAAW;IACXC,eAAe;AACjB;AAOO,MAAMZ,kBAAkB;IAC7BU,WAAW;IACXG,WAAW;AACb;AAOO,MAAMZ,2BAA2B;IACtCS,WAAW;IACXG,WAAW;AACb;AAQO,MAAMV,6BAA6B;IACxCO,WAAW;IACXG,WAAW;AACb;AAQO,MAAMP,wBAAwB;IACnCQ,UAAU;IACVC,SAAS;IACTL,WAAW;AACb;AAKO,MAAMN,8BAA8B;IACzCY,WAAW;IACXC,WAAW;IACXC,WAAW;IACXC,WAAW;IACXC,aAAa;IACbC,cAAc;AAChB;AAKO,MAAMtB,0BAA0B;IACrCuB,UAAU;IACVC,WAAW;QACTP,WAAW;QACXC,WAAW;QACXC,WAAW;QACXC,WAAW;QACXC,aAAa;QACbI,gBAAgB;IAClB;IACAC,oBAAoB;IACpBC,cAAc;IACdC,YAAY;AACd;AAKO,MAAMtB,0BAA0B;IACrCuB,YAAY;IACZC,UAAU;IACVC,qBAAqB;IACrBC,iBAAiB;IACjBC,YAAY;IACZC,gBAAgB;QACd;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH;AAKO,MAAMxB,wBAAwB;IACnCyB,UAAU;QACRC,SAAS;QACTC,SAAS;IACX;IACAC,KAAK;QACHC,qBAAqB;IACvB;IACAC,UAAU;QACRC,iBAAiB;IACnB;IACAC,WAAW;QACTC,aAAa;IACf;AACF;AAKO,MAAM7C,wBAAwB,KAAK,6CAA6C;AAKhF,MAAMW,4BAAuD;IAClEmC,UAAU;IACVjC,WAAWkC,OAAOC,GAAG,CAACC;IACtBnC,WAAWiC,OAAOC,GAAG,CAACC;IACtBlC,eAAegC,OAAOC,GAAG,CAACC;IAC1BC,OAAOH,OAAOC,GAAG,CAACG;AACpB;AAKO,MAAMlD,uBAA6C;IACxD6C,UAAU;IACVjC,WAAWkC,OAAOC,GAAG,CAACC;IACtBC,OAAOH,OAAOC,GAAG,CAACG;AACpB;AAKO,MAAMzC,4BAAuD;IAClEoC,UAAU;IACVjC,WAAWkC,OAAOC,GAAG,CAACC;IACtBC,OAAOH,OAAOC,GAAG,CAACG;AACpB"}