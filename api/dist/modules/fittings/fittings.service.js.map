{"version":3,"sources":["../../../src/modules/fittings/fittings.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\nimport { PrismaService } from '../../prisma/prisma.service';\nimport { CreateFittingDto } from './dto/create-fitting.dto';\nimport { UpdateFittingDto } from './dto/update-fitting.dto';\n\n@Injectable()\nexport class FittingsService {\n  constructor(private readonly prisma: PrismaService) {}\n\n  async findAll(activeOnly = true) {\n    return this.prisma.fitting.findMany({\n      where: activeOnly ? { isActive: true } : {},\n      orderBy: { createdAt: 'desc' },\n    });\n  }\n\n  async findOne(id: string) {\n    return this.prisma.fitting.findUniqueOrThrow({ where: { id } });\n  }\n\n  async create(createDto: CreateFittingDto) {\n    return this.prisma.fitting.create({ data: createDto });\n  }\n\n  async update(id: string, updateDto: UpdateFittingDto) {\n    return this.prisma.fitting.update({\n      where: { id },\n      data: updateDto,\n    });\n  }\n\n  async remove(id: string) {\n    return this.prisma.fitting.update({\n      where: { id },\n      data: { isActive: false },\n    });\n  }\n}\n\n"],"names":["FittingsService","findAll","activeOnly","prisma","fitting","findMany","where","isActive","orderBy","createdAt","findOne","id","findUniqueOrThrow","create","createDto","data","update","updateDto","remove"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBANc;+BACG;;;;;;;;;;AAKvB,IAAA,AAAMA,kBAAN,MAAMA;IAGX,MAAMC,QAAQC,aAAa,IAAI,EAAE;QAC/B,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,QAAQ,CAAC;YAClCC,OAAOJ,aAAa;gBAAEK,UAAU;YAAK,IAAI,CAAC;YAC1CC,SAAS;gBAAEC,WAAW;YAAO;QAC/B;IACF;IAEA,MAAMC,QAAQC,EAAU,EAAE;QACxB,OAAO,IAAI,CAACR,MAAM,CAACC,OAAO,CAACQ,iBAAiB,CAAC;YAAEN,OAAO;gBAAEK;YAAG;QAAE;IAC/D;IAEA,MAAME,OAAOC,SAA2B,EAAE;QACxC,OAAO,IAAI,CAACX,MAAM,CAACC,OAAO,CAACS,MAAM,CAAC;YAAEE,MAAMD;QAAU;IACtD;IAEA,MAAME,OAAOL,EAAU,EAAEM,SAA2B,EAAE;QACpD,OAAO,IAAI,CAACd,MAAM,CAACC,OAAO,CAACY,MAAM,CAAC;YAChCV,OAAO;gBAAEK;YAAG;YACZI,MAAME;QACR;IACF;IAEA,MAAMC,OAAOP,EAAU,EAAE;QACvB,OAAO,IAAI,CAACR,MAAM,CAACC,OAAO,CAACY,MAAM,CAAC;YAChCV,OAAO;gBAAEK;YAAG;YACZI,MAAM;gBAAER,UAAU;YAAM;QAC1B;IACF;IA7BA,YAAY,AAAiBJ,MAAqB,CAAE;aAAvBA,SAAAA;IAAwB;AA8BvD"}