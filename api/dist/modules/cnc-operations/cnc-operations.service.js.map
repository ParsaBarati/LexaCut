{"version":3,"sources":["../../../src/modules/cnc-operations/cnc-operations.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\nimport { PrismaService } from '../../prisma/prisma.service';\nimport { CreateCNCOperationDto } from './dto/create-cnc-operation.dto';\nimport { UpdateCNCOperationDto } from './dto/update-cnc-operation.dto';\n\n@Injectable()\nexport class CNCOperationsService {\n  constructor(private readonly prisma: PrismaService) {}\n\n  async findAll(activeOnly = true) {\n    return this.prisma.cNCOperation.findMany({\n      where: activeOnly ? { isActive: true } : {},\n      orderBy: { createdAt: 'desc' },\n    });\n  }\n\n  async findOne(id: string) {\n    return this.prisma.cNCOperation.findUniqueOrThrow({ where: { id } });\n  }\n\n  async create(createDto: CreateCNCOperationDto) {\n    return this.prisma.cNCOperation.create({ data: createDto });\n  }\n\n  async update(id: string, updateDto: UpdateCNCOperationDto) {\n    return this.prisma.cNCOperation.update({\n      where: { id },\n      data: updateDto,\n    });\n  }\n\n  async remove(id: string) {\n    return this.prisma.cNCOperation.update({\n      where: { id },\n      data: { isActive: false },\n    });\n  }\n}\n\n"],"names":["CNCOperationsService","findAll","activeOnly","prisma","cNCOperation","findMany","where","isActive","orderBy","createdAt","findOne","id","findUniqueOrThrow","create","createDto","data","update","updateDto","remove"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBANc;+BACG;;;;;;;;;;AAKvB,IAAA,AAAMA,uBAAN,MAAMA;IAGX,MAAMC,QAAQC,aAAa,IAAI,EAAE;QAC/B,OAAO,IAAI,CAACC,MAAM,CAACC,YAAY,CAACC,QAAQ,CAAC;YACvCC,OAAOJ,aAAa;gBAAEK,UAAU;YAAK,IAAI,CAAC;YAC1CC,SAAS;gBAAEC,WAAW;YAAO;QAC/B;IACF;IAEA,MAAMC,QAAQC,EAAU,EAAE;QACxB,OAAO,IAAI,CAACR,MAAM,CAACC,YAAY,CAACQ,iBAAiB,CAAC;YAAEN,OAAO;gBAAEK;YAAG;QAAE;IACpE;IAEA,MAAME,OAAOC,SAAgC,EAAE;QAC7C,OAAO,IAAI,CAACX,MAAM,CAACC,YAAY,CAACS,MAAM,CAAC;YAAEE,MAAMD;QAAU;IAC3D;IAEA,MAAME,OAAOL,EAAU,EAAEM,SAAgC,EAAE;QACzD,OAAO,IAAI,CAACd,MAAM,CAACC,YAAY,CAACY,MAAM,CAAC;YACrCV,OAAO;gBAAEK;YAAG;YACZI,MAAME;QACR;IACF;IAEA,MAAMC,OAAOP,EAAU,EAAE;QACvB,OAAO,IAAI,CAACR,MAAM,CAACC,YAAY,CAACY,MAAM,CAAC;YACrCV,OAAO;gBAAEK;YAAG;YACZI,MAAM;gBAAER,UAAU;YAAM;QAC1B;IACF;IA7BA,YAAY,AAAiBJ,MAAqB,CAAE;aAAvBA,SAAAA;IAAwB;AA8BvD"}