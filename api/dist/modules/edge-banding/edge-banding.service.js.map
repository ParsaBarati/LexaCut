{"version":3,"sources":["../../../src/modules/edge-banding/edge-banding.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\nimport { PrismaService } from '../../prisma/prisma.service';\nimport { CreateEdgeBandingDto } from './dto/create-edge-banding.dto';\nimport { UpdateEdgeBandingDto } from './dto/update-edge-banding.dto';\n\n@Injectable()\nexport class EdgeBandingService {\n  constructor(private readonly prisma: PrismaService) {}\n\n  async findAll(activeOnly = true) {\n    return this.prisma.edgeBanding.findMany({\n      where: activeOnly ? { isActive: true } : {},\n      orderBy: { createdAt: 'desc' },\n    });\n  }\n\n  async findOne(id: string) {\n    return this.prisma.edgeBanding.findUniqueOrThrow({ where: { id } });\n  }\n\n  async create(createDto: CreateEdgeBandingDto) {\n    return this.prisma.edgeBanding.create({ data: createDto });\n  }\n\n  async update(id: string, updateDto: UpdateEdgeBandingDto) {\n    return this.prisma.edgeBanding.update({\n      where: { id },\n      data: updateDto,\n    });\n  }\n\n  async remove(id: string) {\n    return this.prisma.edgeBanding.update({\n      where: { id },\n      data: { isActive: false },\n    });\n  }\n}\n\n"],"names":["EdgeBandingService","findAll","activeOnly","prisma","edgeBanding","findMany","where","isActive","orderBy","createdAt","findOne","id","findUniqueOrThrow","create","createDto","data","update","updateDto","remove"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBANc;+BACG;;;;;;;;;;AAKvB,IAAA,AAAMA,qBAAN,MAAMA;IAGX,MAAMC,QAAQC,aAAa,IAAI,EAAE;QAC/B,OAAO,IAAI,CAACC,MAAM,CAACC,WAAW,CAACC,QAAQ,CAAC;YACtCC,OAAOJ,aAAa;gBAAEK,UAAU;YAAK,IAAI,CAAC;YAC1CC,SAAS;gBAAEC,WAAW;YAAO;QAC/B;IACF;IAEA,MAAMC,QAAQC,EAAU,EAAE;QACxB,OAAO,IAAI,CAACR,MAAM,CAACC,WAAW,CAACQ,iBAAiB,CAAC;YAAEN,OAAO;gBAAEK;YAAG;QAAE;IACnE;IAEA,MAAME,OAAOC,SAA+B,EAAE;QAC5C,OAAO,IAAI,CAACX,MAAM,CAACC,WAAW,CAACS,MAAM,CAAC;YAAEE,MAAMD;QAAU;IAC1D;IAEA,MAAME,OAAOL,EAAU,EAAEM,SAA+B,EAAE;QACxD,OAAO,IAAI,CAACd,MAAM,CAACC,WAAW,CAACY,MAAM,CAAC;YACpCV,OAAO;gBAAEK;YAAG;YACZI,MAAME;QACR;IACF;IAEA,MAAMC,OAAOP,EAAU,EAAE;QACvB,OAAO,IAAI,CAACR,MAAM,CAACC,WAAW,CAACY,MAAM,CAAC;YACpCV,OAAO;gBAAEK;YAAG;YACZI,MAAM;gBAAER,UAAU;YAAM;QAC1B;IACF;IA7BA,YAAY,AAAiBJ,MAAqB,CAAE;aAAvBA,SAAAA;IAAwB;AA8BvD"}