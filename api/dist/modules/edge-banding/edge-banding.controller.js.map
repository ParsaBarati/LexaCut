{"version":3,"sources":["../../../src/modules/edge-banding/edge-banding.controller.ts"],"sourcesContent":["import {\n  Controller,\n  Get,\n  Post,\n  Put,\n  Delete,\n  Body,\n  Param,\n  Query,\n  HttpCode,\n  HttpStatus,\n} from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiResponse } from '@nestjs/swagger';\nimport { PrismaService } from '../../prisma/prisma.service';\nimport { CreateEdgeBandingDto } from './dto/create-edge-banding.dto';\nimport { UpdateEdgeBandingDto } from './dto/update-edge-banding.dto';\n\n@ApiTags('Edge Banding Management')\n@Controller('api/v1/edge-banding')\nexport class EdgeBandingController {\n  constructor(private readonly prisma: PrismaService) {}\n\n  @Get()\n  @ApiOperation({ summary: 'Get all edge banding types' })\n  @ApiResponse({ status: 200, description: 'Returns all edge banding types' })\n  async findAll(@Query('active') active?: string) {\n    const where = active === 'true' ? { isActive: true } : {};\n    return this.prisma.edgeBanding.findMany({\n      where,\n      orderBy: { createdAt: 'desc' },\n    });\n  }\n\n  @Get(':id')\n  @ApiOperation({ summary: 'Get edge banding by ID' })\n  @ApiResponse({ status: 200, description: 'Returns the edge banding' })\n  @ApiResponse({ status: 404, description: 'Edge banding not found' })\n  async findOne(@Param('id') id: string) {\n    return this.prisma.edgeBanding.findUniqueOrThrow({\n      where: { id },\n    });\n  }\n\n  @Post()\n  @ApiOperation({ summary: 'Create a new edge banding type' })\n  @ApiResponse({ status: 201, description: 'Edge banding created successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid input' })\n  async create(@Body() createDto: CreateEdgeBandingDto) {\n    return this.prisma.edgeBanding.create({\n      data: createDto,\n    });\n  }\n\n  @Post('bulk')\n  @ApiOperation({ summary: 'Bulk create edge banding types' })\n  @ApiResponse({ status: 201, description: 'Edge banding types created successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid input' })\n  async bulkCreate(@Body() createDtos: CreateEdgeBandingDto[]) {\n    const result = await this.prisma.edgeBanding.createMany({\n      data: createDtos,\n      skipDuplicates: true,\n    });\n    return { count: result.count, message: `Successfully created ${result.count} edge banding types` };\n  }\n\n  @Put(':id')\n  @ApiOperation({ summary: 'Update an edge banding type' })\n  @ApiResponse({ status: 200, description: 'Edge banding updated successfully' })\n  @ApiResponse({ status: 404, description: 'Edge banding not found' })\n  async update(@Param('id') id: string, @Body() updateDto: UpdateEdgeBandingDto) {\n    return this.prisma.edgeBanding.update({\n      where: { id },\n      data: updateDto,\n    });\n  }\n\n  @Delete(':id')\n  @HttpCode(HttpStatus.NO_CONTENT)\n  @ApiOperation({ summary: 'Delete an edge banding type (soft delete)' })\n  @ApiResponse({ status: 204, description: 'Edge banding deleted successfully' })\n  @ApiResponse({ status: 404, description: 'Edge banding not found' })\n  async remove(@Param('id') id: string) {\n    await this.prisma.edgeBanding.update({\n      where: { id },\n      data: { isActive: false },\n    });\n  }\n}\n\n"],"names":["EdgeBandingController","findAll","active","where","isActive","prisma","edgeBanding","findMany","orderBy","createdAt","findOne","id","findUniqueOrThrow","create","createDto","data","bulkCreate","createDtos","result","createMany","skipDuplicates","count","message","update","updateDto","remove","summary","status","description","NO_CONTENT"],"mappings":";;;;+BAmBaA;;;eAAAA;;;wBARN;yBAC4C;+BACrB;sCACO;sCACA;;;;;;;;;;;;;;;AAI9B,IAAA,AAAMA,wBAAN,MAAMA;IAGX,MAGMC,QAAQ,AAAiBC,MAAe,EAAE;QAC9C,MAAMC,QAAQD,WAAW,SAAS;YAAEE,UAAU;QAAK,IAAI,CAAC;QACxD,OAAO,IAAI,CAACC,MAAM,CAACC,WAAW,CAACC,QAAQ,CAAC;YACtCJ;YACAK,SAAS;gBAAEC,WAAW;YAAO;QAC/B;IACF;IAEA,MAIMC,QAAQ,AAAaC,EAAU,EAAE;QACrC,OAAO,IAAI,CAACN,MAAM,CAACC,WAAW,CAACM,iBAAiB,CAAC;YAC/CT,OAAO;gBAAEQ;YAAG;QACd;IACF;IAEA,MAIME,OAAO,AAAQC,SAA+B,EAAE;QACpD,OAAO,IAAI,CAACT,MAAM,CAACC,WAAW,CAACO,MAAM,CAAC;YACpCE,MAAMD;QACR;IACF;IAEA,MAIME,WAAW,AAAQC,UAAkC,EAAE;QAC3D,MAAMC,SAAS,MAAM,IAAI,CAACb,MAAM,CAACC,WAAW,CAACa,UAAU,CAAC;YACtDJ,MAAME;YACNG,gBAAgB;QAClB;QACA,OAAO;YAAEC,OAAOH,OAAOG,KAAK;YAAEC,SAAS,CAAC,qBAAqB,EAAEJ,OAAOG,KAAK,CAAC,mBAAmB,CAAC;QAAC;IACnG;IAEA,MAIME,OAAO,AAAaZ,EAAU,EAAE,AAAQa,SAA+B,EAAE;QAC7E,OAAO,IAAI,CAACnB,MAAM,CAACC,WAAW,CAACiB,MAAM,CAAC;YACpCpB,OAAO;gBAAEQ;YAAG;YACZI,MAAMS;QACR;IACF;IAEA,MAKMC,OAAO,AAAad,EAAU,EAAE;QACpC,MAAM,IAAI,CAACN,MAAM,CAACC,WAAW,CAACiB,MAAM,CAAC;YACnCpB,OAAO;gBAAEQ;YAAG;YACZI,MAAM;gBAAEX,UAAU;YAAM;QAC1B;IACF;IAlEA,YAAY,AAAiBC,MAAqB,CAAE;aAAvBA,SAAAA;IAAwB;AAmEvD;;;;QAhEkBqB,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAUzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAQzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAQzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAUzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;;6CASpBC;;QACLH,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa"}